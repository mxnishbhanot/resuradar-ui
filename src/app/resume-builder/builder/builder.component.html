<div class="modern-builder">
  <!-- Fixed Top Navigation -->
  <nav class="top-navbar">
    <div class="navbar-content">
      <div class="brand-section">
        <div class="brand-icon-wrapper">
          <mat-icon class="brand-icon">description</mat-icon>
        </div>
        <div class="brand-text">
          <h1 class="brand-title">ResuRadar</h1>
          <span class="brand-subtitle">Professional CV Creator</span>
        </div>
      </div>

      <div class="navbar-actions">
        <button mat-stroked-button class="preview-btn" (click)="openPreview()">
          <mat-icon>visibility</mat-icon>
          <span>Preview</span>
        </button>
      </div>
    </div>
  </nav>

  <!-- Fixed Tab Navigation -->
  <div class="tab-navigation">
    <div class="tab-nav-content">
      <button *ngFor="let tab of tabs; let i = index"
              class="tab-item"
              [class.active]="currentTab === i"
              (click)="navigateToTab(i)">
        <mat-icon class="tab-icon">{{ tab.icon }}</mat-icon>
        <span class="tab-label">{{ tab.label }}</span>
      </button>
      <div class="tab-indicator" [style.transform]="'translateX(' + (currentTab * 100) + '%)'"></div>
    </div>

    <div class="progress-indicator">
      <span class="progress-text">{{ completionPercentage }}% Complete</span>
      <mat-progress-bar mode="determinate" [value]="completionPercentage" class="compact-progress"></mat-progress-bar>
    </div>
  </div>

  <!-- Scrollable Content Area (Only this scrolls) -->
  <main class="content-area">
    <div class="content-scroll-wrapper">
      <div class="content-inner">
        <!-- Form Sections -->
        <div class="form-section" *ngIf="currentTab === 0">
          <rr-personal></rr-personal>
        </div>
        <div class="form-section" *ngIf="currentTab === 1">
          <rr-education></rr-education>
        </div>
        <div class="form-section" *ngIf="currentTab === 2">
          <rr-experience></rr-experience>
        </div>
        <div class="form-section" *ngIf="currentTab === 3">
          <rr-skills-projects></rr-skills-projects>
        </div>
        <div class="form-section" *ngIf="currentTab === 4">
          <rr-summary></rr-summary>
        </div>
      </div>
    </div>
  </main>

  <!-- Fixed Bottom Navigation -->
  <footer class="navigation-footer">
    <div class="footer-content">
      <button mat-stroked-button
              class="nav-button back-button"
              (click)="previousStep()"
              [disabled]="currentTab === 0">
        <mat-icon>arrow_back</mat-icon>
        <span>Back</span>
      </button>

      <div class="step-indicator">
        <span class="step-text">Step {{ currentTab + 1 }} of {{ tabs.length }}</span>
      </div>

      <button mat-flat-button
              class="nav-button next-button"
              (click)="nextStep()"
              *ngIf="currentTab < tabs.length - 1">
        <span>Next</span>
        <mat-icon>arrow_forward</mat-icon>
      </button>

      <button mat-flat-button
              class="nav-button finish-button"
              (click)="openPreview()"
              *ngIf="currentTab === tabs.length - 1">
        <span>Finish & Preview</span>
        <mat-icon>check_circle</mat-icon>
      </button>
    </div>
  </footer>
</div>
