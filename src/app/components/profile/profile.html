<div class="profile-container">
  <div class="background-gradient"></div>

  <header class="profile-header">
    <div class="header-content">
      <div class="avatar-section">
        @if (user().picture) {
          <img loading="lazy" [src]="user().picture" alt="Profile" class="avatar-large" />
        } @else {
          <div class="avatar-placeholder">{{ userInitials() }}</div>
        }
      </div>

      <div class="user-info">
        <h1 class="user-name">{{ user().name }}</h1>
        <p class="user-email">{{ user().email }}</p>
        <div class="user-meta">
          <span>Member since {{ user().joinedDate | date:'MMM y' }}</span>
        </div>
      </div>
    </div>

    <button
    aria-label="Default"
      mat-icon-button
      class="theme-toggle-btn"
      matTooltip="Switch theme"
      (click)="toggleTheme()">
      <mat-icon>{{ isDarkTheme() ? 'light_mode' : 'dark_mode' }}</mat-icon>
    </button>
  </header>

  <mat-card class="stats-card">
    <div class="stats-grid">
      <div class="stat-item" (click)="navigate()">
        <div class="stat-value">{{ user().resumeCount }}</div>
        <div class="stat-label">Resumes Analyzed</div>
      </div>
    </div>
  </mat-card>

  <mat-card class="account-card">
    <div class="card-header">
      <mat-icon class="header-icon">person</mat-icon>
      <h2>Account Information</h2>
    </div>

    <mat-divider></mat-divider>

    <div class="card-content">
      <div class="info-row">
        <span class="info-label">Full Name</span>
        <span class="info-value">{{ user().name }}</span>
      </div>

      <div class="info-row">
        <span class="info-label">Email Address</span>
        <span class="info-value">{{ user().email }}</span>
      </div>

      <div class="info-row">
        <span class="info-label">Authentication</span>
        <span class="info-value auth-method">Google Sign-In</span>
      </div>
    </div>
  </mat-card>

  <div class="privacy-notice">
    <div class="privacy-icon">
      <mat-icon>verified_user</mat-icon>
    </div>
    <div class="privacy-content">
      <strong>Bank-Grade Security</strong>
      <span>We never sell or share your information.</span>
    </div>
  </div>

  <div class="sign-out-section">
    <button mat-flat-button class="sign-out-btn" (click)="logout()" aria-label="Default">
      <mat-icon>logout</mat-icon>
      <span>Sign Out</span>
    </button>
  </div>
</div>
